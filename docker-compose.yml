services:
  patron-hub:
    build: .
    image: patron-hub:local
    expose:
      - "3000"
    environment:
      NODE_ENV: production
      NEXT_TELEMETRY_DISABLED: "1"
      PATRON_HUB_DATA_DIR: /data
      PATRON_HUB_ARCHIVE_DIR: /archive
      PATRON_HUB_DISABLE_AUTH: ${PATRON_HUB_DISABLE_AUTH:-0}
    volumes:
      - ./server-data:/data
      - ./server-archive:/archive
    restart: unless-stopped
